{"ast":null,"code":"import _styled from \"styled-components\";\n\nvar _jsxFileName = \"/Users/kobe/WebstormProjects/2022/music-transfer/client/src/components/Playlists/FeatureChart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Chart, registerables } from 'chart.js';\nimport { mixins, theme } from '../../styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nconst {\n  fonts\n} = theme;\nconst properties = ['acousticness', 'danceability', 'energy', 'liveness', 'speechiness', 'valence'];\nconst Container = _styled.div`\n  position: relative;\n  width: 100%;\n  max-width: 700px;\n\n  #chart {\n    margin: 0 auto;\n    margin-top: -30px;\n  }\n`;\nexport default function FeatureChart(props) {\n  _s();\n\n  const avg = arr => arr.reduce((a, b) => a + b, 0) / arr.length;\n\n  useEffect(() => {\n    const createDataset = features => {\n      const dataset = {};\n      properties.forEach(prop => {\n        dataset[prop] = features.length ? avg(features.map(feat => feat && feat[prop])) : features[prop];\n      });\n      return dataset;\n    };\n\n    const createChart = dataset => {\n      const {\n        type\n      } = props;\n      const ctx = document.getElementById('chart');\n      const labels = Object.keys(dataset);\n      const data = Object.values(dataset);\n      new Chart(ctx, {\n        type: type || 'bar',\n        data: {\n          labels,\n          datasets: [{\n            label: '',\n            data,\n            backgroundColor: ['rgba(255, 99, 132, 0.3)', 'rgba(255, 159, 64, 0.3)', 'rgba(255, 206, 86, 0.3)', 'rgba(54, 162, 235, 0.3)', 'rgba(104, 132, 245, 0.3)', 'rgba(153, 102, 255, 0.3)'],\n            borderColor: ['rgba(255,99,132,1)', 'rgba(255, 159, 64, 1)', 'rgba(255, 206, 86, 1)', 'rgba(54, 162, 235, 1)', 'rgba(104, 132, 245, 1)', 'rgba(153, 102, 255, 1)'],\n            borderWidth: 1\n          }]\n        },\n        options: {\n          layout: {\n            padding: {\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0\n            }\n          },\n          title: {\n            display: true,\n            text: `Audio Features`,\n            fontSize: 18,\n            fontFamily: `${fonts.primary}`,\n            fontColor: '#ffffff',\n            padding: 30\n          },\n          legend: {\n            display: false\n          },\n          scales: {\n            xAxes: [{\n              gridLines: {\n                color: 'rgba(255, 255, 255, 0.3)'\n              },\n              ticks: {\n                fontFamily: `${fonts.primary}`,\n                fontSize: 12\n              }\n            }],\n            yAxes: [{\n              gridLines: {\n                color: 'rgba(255, 255, 255, 0.3)'\n              },\n              ticks: {\n                beginAtZero: true,\n                fontFamily: `${fonts.primary}`,\n                fontSize: 12\n              }\n            }]\n          }\n        }\n      });\n    };\n\n    const parseData = () => {\n      const {\n        features\n      } = props;\n      const dataset = createDataset(features);\n      createChart(dataset);\n    };\n\n    parseData();\n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"chart\",\n      width: \"400\",\n      height: \"400\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FeatureChart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = FeatureChart;\nFeatureChart.propTypes = {\n  features: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  type: PropTypes.string\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"FeatureChart\");","map":{"version":3,"sources":["/Users/kobe/WebstormProjects/2022/music-transfer/client/src/components/Playlists/FeatureChart.jsx"],"names":["React","useEffect","PropTypes","Chart","registerables","mixins","theme","register","fonts","properties","Container","styled","div","FeatureChart","props","avg","arr","reduce","a","b","length","createDataset","features","dataset","forEach","prop","map","feat","createChart","type","ctx","document","getElementById","labels","Object","keys","data","values","datasets","label","backgroundColor","borderColor","borderWidth","options","layout","padding","left","right","top","bottom","title","display","text","fontSize","fontFamily","primary","fontColor","legend","scales","xAxes","gridLines","color","ticks","yAxes","beginAtZero","parseData","propTypes","oneOfType","array","object","isRequired","string"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {Chart, registerables} from 'chart.js';\nimport styled from 'styled-components/macro';\nimport {mixins, theme} from '../../styles';\n\nChart.register(...registerables);\nconst { fonts } = theme;\n\nconst properties = [\n  'acousticness',\n  'danceability',\n  'energy',\n  'liveness',\n  'speechiness',\n  'valence',\n];\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n  max-width: 700px;\n\n  #chart {\n    margin: 0 auto;\n    margin-top: -30px;\n  }\n`;\n\nexport default function FeatureChart (props) {\n  const avg = arr => arr.reduce((a, b) => a + b, 0) / arr.length;\n\n  useEffect(() => {\n    const createDataset = features => {\n      const dataset = {};\n      properties.forEach(prop => {\n        dataset[prop] = features.length\n          ? avg(features.map(feat => feat && feat[prop]))\n          : features[prop];\n      });\n      return dataset;\n    };\n\n    const createChart = dataset => {\n      const { type } = props;\n      const ctx = document.getElementById('chart');\n      const labels = Object.keys(dataset);\n      const data = Object.values(dataset);\n\n      new Chart(ctx, {\n        type: type || 'bar',\n        data: {\n          labels,\n          datasets: [\n            {\n              label: '',\n              data,\n              backgroundColor: [\n                'rgba(255, 99, 132, 0.3)',\n                'rgba(255, 159, 64, 0.3)',\n                'rgba(255, 206, 86, 0.3)',\n                'rgba(54, 162, 235, 0.3)',\n                'rgba(104, 132, 245, 0.3)',\n                'rgba(153, 102, 255, 0.3)',\n              ],\n              borderColor: [\n                'rgba(255,99,132,1)',\n                'rgba(255, 159, 64, 1)',\n                'rgba(255, 206, 86, 1)',\n                'rgba(54, 162, 235, 1)',\n                'rgba(104, 132, 245, 1)',\n                'rgba(153, 102, 255, 1)',\n              ],\n              borderWidth: 1,\n            },\n          ],\n        },\n        options: {\n          layout: {\n            padding: {\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0,\n            },\n          },\n          title: {\n            display: true,\n            text: `Audio Features`,\n            fontSize: 18,\n            fontFamily: `${fonts.primary}`,\n            fontColor: '#ffffff',\n            padding: 30,\n          },\n          legend: {\n            display: false,\n          },\n          scales: {\n            xAxes: [\n              {\n                gridLines: {\n                  color: 'rgba(255, 255, 255, 0.3)',\n                },\n                ticks: {\n                  fontFamily: `${fonts.primary}`,\n                  fontSize: 12,\n                },\n              },\n            ],\n            yAxes: [\n              {\n                gridLines: {\n                  color: 'rgba(255, 255, 255, 0.3)',\n                },\n                ticks: {\n                  beginAtZero: true,\n                  fontFamily: `${fonts.primary}`,\n                  fontSize: 12,\n                },\n              },\n            ],\n          },\n        },\n      });\n    };\n\n    const parseData = () => {\n      const { features } = props;\n      const dataset = createDataset(features);\n      createChart(dataset);\n    };\n\n    parseData();\n  }, [props]);\n\n  return (\n    <div className=\"relative w-full\">\n      <canvas id=\"chart\" width=\"400\" height=\"400\" />\n    </div>\n  )\n}\n\nFeatureChart.propTypes = {\n  features: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  type: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}